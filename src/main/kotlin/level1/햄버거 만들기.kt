package level1

import checkAnswer

/**
 * Â© DEV MING ðŸ’»
 * Current date: 2023-06-24
 * **/

/** ë¬¸ì œ ì„¤ëª…
í–„ë²„ê±° ê°€ê²Œì—ì„œ ì¼ì„ í•˜ëŠ” ìƒìˆ˜ëŠ” í–„ë²„ê±°ë¥¼ í¬ìž¥í•˜ëŠ” ì¼ì„ í•©ë‹ˆë‹¤.
í•¨ê»˜ ì¼ì„ í•˜ëŠ” ë‹¤ë¥¸ ì§ì›ë“¤ì´ í–„ë²„ê±°ì— ë“¤ì–´ê°ˆ ìž¬ë£Œë¥¼ ì¡°ë¦¬í•´ ì£¼ë©´ ì¡°ë¦¬ëœ ìˆœì„œëŒ€ë¡œ ìƒìˆ˜ì˜ ì•žì— ì•„ëž˜ì„œë¶€í„° ìœ„ë¡œ ìŒ“ì´ê²Œ ë˜ê³ ,
ìƒìˆ˜ëŠ” ìˆœì„œì— ë§žê²Œ ìŒ“ì—¬ì„œ ì™„ì„±ëœ í–„ë²„ê±°ë¥¼ ë”°ë¡œ ì˜®ê²¨ í¬ìž¥ì„ í•˜ê²Œ ë©ë‹ˆë‹¤.
ìƒìˆ˜ê°€ ì¼í•˜ëŠ” ê°€ê²ŒëŠ” ì •í•´ì§„ ìˆœì„œ(ì•„ëž˜ì„œë¶€í„°, ë¹µ â€“ ì•¼ì±„ â€“ ê³ ê¸° - ë¹µ)ë¡œ ìŒ“ì¸ í–„ë²„ê±°ë§Œ í¬ìž¥ì„ í•©ë‹ˆë‹¤.
ìƒìˆ˜ëŠ” ì†ì´ êµ‰ìž¥ížˆ ë¹ ë¥´ê¸° ë•Œë¬¸ì— ìƒìˆ˜ê°€ í¬ìž¥í•˜ëŠ” ë™ì•ˆ ì† ìž¬ë£Œê°€ ì¶”ê°€ì ìœ¼ë¡œ ë“¤ì–´ì˜¤ëŠ” ì¼ì€ ì—†ìœ¼ë©°,
ìž¬ë£Œì˜ ë†’ì´ëŠ” ë¬´ì‹œí•˜ì—¬ ìž¬ë£Œê°€ ë†’ì´ ìŒ“ì—¬ì„œ ì¼ì´ íž˜ë“¤ì–´ì§€ëŠ” ê²½ìš°ëŠ” ì—†ìŠµë‹ˆë‹¤.

ì˜ˆë¥¼ ë“¤ì–´, ìƒìˆ˜ì˜ ì•žì— ìŒ“ì´ëŠ” ìž¬ë£Œì˜ ìˆœì„œê°€ [ì•¼ì±„, ë¹µ, ë¹µ, ì•¼ì±„, ê³ ê¸°, ë¹µ, ì•¼ì±„, ê³ ê¸°, ë¹µ]ì¼ ë•Œ, ìƒìˆ˜ëŠ” ì—¬ì„¯ ë²ˆì§¸ ìž¬ë£Œê°€ ìŒ“ì˜€ì„ ë•Œ,
ì„¸ ë²ˆì§¸ ìž¬ë£Œë¶€í„° ì—¬ì„¯ ë²ˆì§¸ ìž¬ë£Œë¥¼ ì´ìš©í•˜ì—¬ í–„ë²„ê±°ë¥¼ í¬ìž¥í•˜ê³ , ì•„í™‰ ë²ˆì§¸ ìž¬ë£Œê°€ ìŒ“ì˜€ì„ ë•Œ, ë‘ ë²ˆì§¸ ìž¬ë£Œì™€ ì¼ê³± ë²ˆì§¸ ìž¬ë£Œë¶€í„° ì•„í™‰ ë²ˆì§¸ ìž¬ë£Œë¥¼ ì´ìš©í•˜ì—¬ í–„ë²„ê±°ë¥¼ í¬ìž¥í•©ë‹ˆë‹¤.
ì¦‰, 2ê°œì˜ í–„ë²„ê±°ë¥¼ í¬ìž¥í•˜ê²Œ ë©ë‹ˆë‹¤.

ìƒìˆ˜ì—ê²Œ ì „í•´ì§€ëŠ” ìž¬ë£Œì˜ ì •ë³´ë¥¼ ë‚˜íƒ€ë‚´ëŠ” ì •ìˆ˜ ë°°ì—´ ingredientê°€ ì£¼ì–´ì¡Œì„ ë•Œ, ìƒìˆ˜ê°€ í¬ìž¥í•˜ëŠ” í–„ë²„ê±°ì˜ ê°œìˆ˜ë¥¼ return í•˜ë„ë¡ solution í•¨ìˆ˜ë¥¼ ì™„ì„±í•˜ì‹œì˜¤.
 **/

/** ì œí•œ ì¡°ê±´
1 â‰¤ ingredientì˜ ê¸¸ì´ â‰¤ 1,000,000
ingredientì˜ ì›ì†ŒëŠ” 1, 2, 3 ì¤‘ í•˜ë‚˜ì˜ ê°’ì´ë©°, ìˆœì„œëŒ€ë¡œ ë¹µ, ì•¼ì±„, ê³ ê¸°ë¥¼ ì˜ë¯¸í•©ë‹ˆë‹¤.
 **/

private fun solution(ingredient: IntArray): Int {
    var answer = 0
    val ing = StringBuilder(ingredient.joinToString(""))
    val pattern = "1231"

    while (true) {
        val index = ing.indexOf(pattern)
        if (index == -1) break

        ing.delete(index, index + pattern.length)
        answer++
    }

    return answer
}

private fun solution2(ingredient: IntArray): Int {
    var answer: Int = 0
    val sb = StringBuilder()
    for (item in ingredient) {
        sb.append('0' + item)
        if (sb.length >= 4 && sb.substring(sb.length - 4) == "1231") {
            sb.setLength(sb.length - 4)
            answer++
        }
    }
    return answer
}

fun main() {
    val ingredient = intArrayOf(2, 1, 1, 2, 3, 1, 2, 3, 1)
    val answer = 2

    checkAnswer(solution2(ingredient) == answer)
}